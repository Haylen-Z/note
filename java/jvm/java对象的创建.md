# java对象的创建

java中有4种创建对象的方法：

- 使用new关键字。
- 使用Class对象的newInstance（）方法。
- 使用反射调用Constructor的newInstanc方法。
- 使用Objec的clone方法。
- 使用实例化的反序列化生成。

## 对象的创建过程

1. **类加载检查**。虚拟机执行new指令时，会检查参数是否能在在常量池中定位到该类的符号引用，然后检查类有没有被加载。如果没有，就执行类加载。
2. **分配内存**。确定对应的类被加载后，在堆中给对象分配内存。分配方法有指针碰撞和空闲列表两种。
3. **初始化零值**。给分配到的空间都初始化为零值（不包括对象头），也就是给对象的字段赋0值或null。
4. **设置对象头**。对象的对象头里包含了对象的一些信息，如对象是哪个类、如何找到类的元信息、GC分代年龄、哈希码等。
5. **执行init方法**。对对象进行初始化，执行构造函数。
